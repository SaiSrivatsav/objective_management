sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/BusyIndicator","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox"],(e,t,s,i,a)=>{"use strict";return e.extend("mboapproval.controller.Main",{onInit(){var e=this.getOwnerComponent().getRouter();e.getRoute("RouteMain").attachPatternMatched(this._onObjectMatched,this)},async _onObjectMatched(){this._i18nModel=this.getOwnerComponent().getModel("i18n").getResourceBundle();this.getOwnerComponent().getModel("CaseList").setData([]);this.getOwnerComponent().getModel("MboDetails").setData([]);this.getOwnerComponent().getModel("CaseComments").setData([]);this.getOwnerComponent().getModel("CaseDocuments").setData([]);t.show();await this.getAllCases();t.hide()},async getAllCases(){const e=this.getOwnerComponent().getManifestObject().resolveUri(this.getOwnerComponent().getManifestEntry("sap.app").dataSources.mainService.uri);try{const t=await fetch(`${e}/getAllCases`,{method:"GET",headers:{"Content-Type":"application/json"}});const s=await t.json();this.getOwnerComponent().getModel("CaseList").setData(s.value)}catch(e){t.hide();console.error("Error fetching all cases:",e)}},onItemPress(e){const t=parseInt(e.getSource().getBindingContext("CaseList").sPath.split("/")[1]);const s=this.getOwnerComponent().getModel("CaseList").getData()[t];this.getView().byId("idCaseTitle").setText(s.caseName);this.getView().byId("idCaseTitleSnap").setText(s.caseName);this.getView().byId("idCaseNameText").setText(s.caseName);this.getView().byId("idCaseDescpText").setText(s.description);this.getView().byId("idCreatedByText").setText(s.submittedBy);this.getView().byId("idAssignedToText").setText(s.assignedTo);this.getView().byId("idPriorityText").setText(s.priority);this.getView().byId("idStatusText").setText(s.status);this.getView().getModel("MboDetails").setData(s.objectives||[]);this.getView().getModel("MboDetails").refresh();this.getView().byId("idDetailInitPage").setVisible(false);this.getView().byId("idDetailObjPage").setVisible(true)}})});
//# sourceMappingURL=Main.controller.js.map